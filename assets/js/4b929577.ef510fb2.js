"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[5316],{4699:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"extensions/settings-and-config/adding-a-section-to-a-settings-tab","title":"How to add a section to a settings tab","description":"When you\'re building an extension for WooCommerce that requires settings of some kind, it\'s important to ask yourself:  Where do they belong?  If your extension just has a couple of simple settings, do you really need to create a new tab specifically for it? Most likely the answer is no.","source":"@site/../extensions/settings-and-config/adding-a-section-to-a-settings-tab.md","sourceDirName":"extensions/settings-and-config","slug":"/extensions/settings-and-config/adding-a-section-to-a-settings-tab","permalink":"/docs/extensions/settings-and-config/adding-a-section-to-a-settings-tab","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../extensions/settings-and-config/adding-a-section-to-a-settings-tab.md","tags":[],"version":"current","frontMatter":{"post_title":"How to add a section to a settings tab","sidebar_label":"Add a section to a settings tab"},"sidebar":"extensionsSidebar","previous":{"title":"Creating custom settings","permalink":"/docs/extensions/settings-and-config/implementing-settings"},"next":{"title":"Add store management links","permalink":"/docs/extensions/settings-and-config/how-to-add-your-own-store-management-links"}}');var s=n(4848),i=n(8453);const r={post_title:"How to add a section to a settings tab",sidebar_label:"Add a section to a settings tab"},c="How to add a section to a settings tab",a={},d=[{value:"When to Create a Section",id:"when-to-create-a-section",level:2},{value:"How to Create a Section",id:"how-to-create-a-section",level:2},{value:"How to Add Settings to a Section",id:"how-to-add-settings-to-a-section",level:2},{value:"Using the New Settings",id:"using-the-new-settings",level:2},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"how-to-add-a-section-to-a-settings-tab",children:"How to add a section to a settings tab"})}),"\n",(0,s.jsxs)(t.p,{children:["When you're building an extension for WooCommerce that requires settings of some kind, it's important to ask yourself:  ",(0,s.jsx)(t.strong,{children:"Where do they belong?"}),"  If your extension just has a couple of simple settings, do you really need to create a new tab specifically for it? Most likely the answer is no."]}),"\n",(0,s.jsx)(t.h2,{id:"when-to-create-a-section",children:"When to Create a Section"}),"\n",(0,s.jsx)(t.p,{children:"Let's say we had an extension that adds a slider to a single product page. This extension only has a few options:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Auto-insert into single product page (checkbox)"}),"\n",(0,s.jsx)(t.li,{children:"Slider Title (text field)"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["That's only two options, specifically related to  ",(0,s.jsx)(t.strong,{children:"Products"}),". We could quite easily just append them onto the core WooCommerce Products Settings (",(0,s.jsx)(t.strong,{children:"WooCommerce > Settings > Products"}),"), but that wouldn't be very user friendly. Users wouldn't know where to look initially so they'd have to scan all of the Products options and it would be difficult / impossible to link the options directly. Fortunately, as of WooCommerce 2.2.2, there is a new filter in place that allows you add a new  ",(0,s.jsx)(t.strong,{children:"section"}),", beneath one of the core settings' tabs."]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-create-a-section",children:"How to Create a Section"}),"\n",(0,s.jsx)(t.p,{children:"We'll go over doing this through individual functions, but you should probably create a Class that stores all of your settings methods."}),"\n",(0,s.jsxs)(t.p,{children:["The first thing you need to is add the section, which can be done like this by hooking into the  ",(0,s.jsx)(t.code,{children:"woocommerce_get_sections_products"}),"  filter:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"/**\n\n* Create the section beneath the products tab\n\n**/\n\nadd_filter( 'woocommerce_get_sections_products', 'wcslider_add_section' );\n\nfunction wcslider_add_section( $sections ) {\n\n    $sections['wcslider'] = __( 'WC Slider', 'text-domain' );\n\n    return $sections;\n\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.a,{href:"https://gist.github.com/woogists/2964ec01c8bea50fcce62adf2f5c1232/raw/da5348343cf3664c0bc8b6b132d8105bfcf9ca51/wc-create-section-beneath-products.php",children:"wc-create-section-beneath-products.php"})})}),"\n",(0,s.jsxs)(t.p,{children:["Make sure you change the  ",(0,s.jsx)(t.strong,{children:"wcslider"}),"  parts to suit your extension's name / text-domain. The important thing about the  ",(0,s.jsx)(t.code,{children:"woocommerce_get_sections_products"}),"  filter, is that the last part  ",(0,s.jsx)(t.strong,{children:"products"}),", is the tab you'd like to add a section to. So if you want to add a new tab to accounts section, you would hook into the  ",(0,s.jsx)(t.code,{children:"woocommerce_get_sections_accounts"}),"  filter."]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-add-settings-to-a-section",children:"How to Add Settings to a Section"}),"\n",(0,s.jsxs)(t.p,{children:["Now that you've got the tab, you need to filter the output of  ",(0,s.jsx)(t.code,{children:"woocommerce_get_sections_products"}),"  (or similar). You would add the settings like usual using the  ",(0,s.jsx)(t.a,{href:"/docs/extensions/settings-and-config/settings-api",children:(0,s.jsx)(t.strong,{children:"WooCommerce Settings API"})}),", but check for the current section before adding the settings to the tab's settings array. For example, let's add the sample settings we discussed above to the new  ",(0,s.jsx)(t.strong,{children:"wcslider"}),"  section we just created:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"/**\n\n* Add settings to the specific section we created before\n\n*/\n\nadd_filter( 'woocommerce_get_settings_products', 'wcslider_all_settings', 10, 2 );\n\nfunction wcslider_all_settings( $settings, $current_section ) {\n\n/**\n\n* Check the current section is what we want\n\n**/\n\n  if ( $current_section == 'wcslider' ) {\n  \n      $settings_slider = array();\n    \n      // Add Title to the Settings\n      \n      $settings_slider[] = array( 'name' => __( 'WC Slider Settings', 'text-domain' ), 'type' => 'title', 'desc' => __( 'The following options are used to configure WC Slider', 'text-domain' ), 'id' => 'wcslider' );\n      \n      // Add first checkbox option\n      \n      $settings_slider[] = array(\n      \n          'name' => __( 'Auto-insert into single product page', 'text-domain' ),\n          \n          'desc_tip' => __( 'This will automatically insert your slider into the single product page', 'text-domain' ),\n          \n          'id' => 'wcslider_auto_insert',\n          \n          'type' => 'checkbox',\n          \n          'css' => 'min-width:300px;',\n          \n          'desc' => __( 'Enable Auto-Insert', 'text-domain' ),\n      \n      );\n      \n      // Add second text field option\n      \n      $settings_slider[] = array(\n      \n          'name' => __( 'Slider Title', 'text-domain' ),\n          \n          'desc_tip' => __( 'This will add a title to your slider', 'text-domain' ),\n          \n          'id' => 'wcslider_title',\n          \n          'type' => 'text',\n          \n          'desc' => __( 'Any title you want can be added to your slider with this option!', 'text-domain' ),\n      \n      );\n      \n      $settings_slider[] = array( 'type' => 'sectionend', 'id' => 'wcslider' );\n      \n      return $settings_slider;\n    \n    /**\n    \n    * If not, return the standard settings\n    \n    **/\n    \n    } else {\n    \n        return $settings;\n  \n    }\n\n}\n\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.a,{href:"https://gist.github.com/woogists/4038b83900508806c57a193a2534b845#file-wc-add-settings-section-php",children:"wc-add-settings-section.php"})})}),"\n",(0,s.jsxs)(t.p,{children:["We're hooking into the same  ",(0,s.jsx)(t.code,{children:"woocommerce_get_sections_products"}),"  filter, but this time doing a check that the  ",(0,s.jsx)(t.code,{children:"$current_section"}),"  matches our earlier defined custom section (wcslider), before adding in our new settings."]}),"\n",(0,s.jsx)(t.h2,{id:"using-the-new-settings",children:"Using the New Settings"}),"\n",(0,s.jsxs)(t.p,{children:["You would now just use your newly created settings like you would any other WordPress / WooCommerce setting, through the  ",(0,s.jsx)(t.a,{href:"http://codex.wordpress.org/Function_Reference/get_option",children:(0,s.jsx)(t.strong,{children:"get_option"})}),"  function and the defined ID of the setting. For example, to use the previously created  ",(0,s.jsx)(t.strong,{children:"wcslider_auto_insert"}),"  option, simply use the following code:  ",(0,s.jsx)(t.code,{children:"get_option( 'wcslider_auto_insert' )"})]}),"\n",(0,s.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(t.p,{children:["When creating an extension for WooCommerce, think about where your settings belong before you create them. The key to building a useful product is making it easy to use for the end user, so appropriate setting placement is crucially important. For more specific information on adding settings to WooCommerce, check out the  ",(0,s.jsx)(t.a,{href:"https://github.com/woocommerce/woocommerce/blob/trunk/docs/extension-development/settings-api.md",children:(0,s.jsx)(t.strong,{children:"Settings API documentation"})}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var o=n(6540);const s={},i=o.createContext(s);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);