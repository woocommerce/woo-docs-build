"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[3150],{1483:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types","title":"Inner block types","description":"The following Additional Cart and Checkout inner block types filter is available:","source":"@site/../block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types.md","sourceDirName":"block-development/cart-and-checkout-blocks/available-filters","slug":"/block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types","permalink":"/docs/block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types.md","tags":[],"version":"current","frontMatter":{"post_title":"Inner block types","sidebar_label":"Inner block types"},"sidebar":"docsSidebar","previous":{"title":"Available Filters","permalink":"/docs/block-development/cart-and-checkout-blocks/available-filters/"},"next":{"title":"Cart Line Items","permalink":"/docs/block-development/cart-and-checkout-blocks/available-filters/cart-line-items"}}');var l=n(4848),c=n(8453);const r={post_title:"Inner block types",sidebar_label:"Inner block types"},i="Inner block types",s={},a=[{value:"<code>additionalCartCheckoutInnerBlockTypes</code>",id:"additionalcartcheckoutinnerblocktypes",level:2},{value:"Description ",id:"description-",level:3},{value:"Parameters ",id:"parameters-",level:3},{value:"Returns ",id:"returns-",level:3},{value:"Code example ",id:"code-example-",level:3},{value:"Screenshots ",id:"screenshots-",level:3}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"inner-block-types",children:"Inner block types"})}),"\n",(0,l.jsx)(t.p,{children:"The following Additional Cart and Checkout inner block types filter is available:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:(0,l.jsx)(t.code,{children:"additionalCartCheckoutInnerBlockTypes"})}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"additionalcartcheckoutinnerblocktypes",children:(0,l.jsx)(t.code,{children:"additionalCartCheckoutInnerBlockTypes"})}),"\n",(0,l.jsx)(t.h3,{id:"description-",children:"Description "}),"\n",(0,l.jsxs)(t.p,{children:["The Cart and Checkout blocks are made up of inner blocks. These inner blocks areas allow certain block types to be added as children. By default, only ",(0,l.jsx)(t.code,{children:"core/paragraph"}),", ",(0,l.jsx)(t.code,{children:"core/image"}),", and ",(0,l.jsx)(t.code,{children:"core/separator"})," are available to add."]}),"\n",(0,l.jsxs)(t.p,{children:["By using the ",(0,l.jsx)(t.code,{children:"additionalCartCheckoutInnerBlockTypes"})," filter it is possible to add items to this array to control what the editor can into an inner block."]}),"\n",(0,l.jsx)(t.p,{children:"This filter is called once for each inner block area, so it is possible to be very granular when determining what blocks can be added where."}),"\n",(0,l.jsx)(t.h3,{id:"parameters-",children:"Parameters "}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.em,{children:"defaultValue"})," ",(0,l.jsx)(t.code,{children:"array"})," (default: ",(0,l.jsx)(t.code,{children:"[]"}),") - The default value of the filter."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.em,{children:"extensions"})," ",(0,l.jsx)(t.code,{children:"object"})," (default: ",(0,l.jsx)(t.code,{children:"{}"}),") - The extensions object."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.em,{children:"args"})," ",(0,l.jsx)(t.code,{children:"object"})," - The arguments object with the following key:","\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.em,{children:"block"})," ",(0,l.jsx)(t.code,{children:"string"})," - The block name of the inner block area, e.g. ",(0,l.jsx)(t.code,{children:"woocommerce/checkout-shipping-address-block"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.em,{children:"validation"})," ",(0,l.jsx)(t.code,{children:"boolean"})," or ",(0,l.jsx)(t.code,{children:"Error"})," - Checks if the returned value is an array of strings. If an error occurs, it will be thrown."]}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"returns-",children:"Returns "}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"array"})," - The modified array with allowed block types for the corresponding inner block area."]}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"code-example-",children:"Code example "}),"\n",(0,l.jsx)(t.p,{children:"Let's suppose we want to allow the editor to add some blocks in specific places in the Cart and Checkout blocks."}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Allow ",(0,l.jsx)(t.code,{children:"core/quote"})," to be inserted in every block area in the Cart and Checkout blocks."]}),"\n",(0,l.jsxs)(t.li,{children:["Allow ",(0,l.jsx)(t.code,{children:"core/table"})," to be inserted in the Shipping Address block in the Checkout."]}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"In our extension we could register a filter satisfy both of these conditions like so:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-tsx",children:"document.addEventListener( 'DOMContentLoaded', function () {\n\tconst { registerCheckoutFilters } = window.wc.blocksCheckout;\n\n\tconst modifyAdditionalInnerBlockTypes = (\n\t\tdefaultValue,\n\t\textensions,\n\t\targs,\n\t\tvalidation\n\t) => {\n\t\tdefaultValue.push( 'core/quote' );\n\n\t\tif ( args?.block === 'woocommerce/checkout-shipping-address-block' ) {\n\t\t\tdefaultValue.push( 'core/table' );\n\t\t}\n\n\t\treturn defaultValue;\n\t};\n\n\tregisterCheckoutFilters( 'example-extension', {\n\t\tadditionalCartCheckoutInnerBlockTypes: modifyAdditionalInnerBlockTypes,\n\t} );\n} );\n"})}),"\n",(0,l.jsxs)(t.p,{children:["To call this filter within the editor, wrap the filter registration in a ",(0,l.jsx)(t.code,{children:"DOMContentLoaded"})," event listener and ensure the code runs in the admin panel."]}),"\n",(0,l.jsxs)(t.blockquote,{children:["\n",(0,l.jsxs)(t.p,{children:["Filters can be also combined. See ",(0,l.jsx)(t.a,{href:"/docs/block-development/cart-and-checkout-blocks/available-filters/",children:"Combined filters"})," for an example."]}),"\n"]}),"\n",(0,l.jsx)(t.h3,{id:"screenshots-",children:"Screenshots "}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Before"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"After"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.img,{src:"https://github.com/woocommerce/woocommerce-blocks/assets/3323310/0d4560c8-c2b1-4ed8-8aee-469b248ccb08",alt:"Before applying the Additional Cart and Checkout inner block types filter"})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:(0,l.jsx)(t.img,{src:"https://github.com/woocommerce/woocommerce-blocks/assets/3323310/d38cd568-6c8c-4158-9269-d8dffdf66988",alt:"After applying the Additional Cart and Checkout inner block types filter"})})]})})]})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var o=n(6540);const l={},c=o.createContext(l);function r(e){const t=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),o.createElement(c.Provider,{value:t},e.children)}}}]);