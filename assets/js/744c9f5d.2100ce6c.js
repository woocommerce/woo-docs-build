"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[2407],{463:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"best-practices/urls-and-routing/webhooks","title":"Working with webhooks in WooCommerce","description":"What are webhooks?","source":"@site/../best-practices/urls-and-routing/webhooks.md","sourceDirName":"best-practices/urls-and-routing","slug":"/best-practices/urls-and-routing/webhooks","permalink":"/docs/best-practices/urls-and-routing/webhooks","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../best-practices/urls-and-routing/webhooks.md","tags":[],"version":"current","frontMatter":{"post_title":"Working with webhooks in WooCommerce","sidebar_label":"Using webhooks"},"sidebar":"docsSidebar","previous":{"title":"Customizing endpoint URLs","permalink":"/docs/best-practices/urls-and-routing/customizing-endpoint-urls"},"next":{"title":"WooCommerce endpoints","permalink":"/docs/best-practices/urls-and-routing/woocommerce-endpoints"}}');var r=s(4848),t=s(8453);const i={post_title:"Working with webhooks in WooCommerce",sidebar_label:"Using webhooks"},c="Working with webhooks in WooCommerce",d={},h=[{value:"What are webhooks?",id:"what-are-webhooks",level:2},{value:"Webhooks in WooCommerce",id:"webhooks-in-woocommerce",level:2},{value:"Creating webhooks",id:"creating-webhooks",level:2},{value:"Editing and deleting webhooks",id:"editing-and-deleting-webhooks",level:2},{value:"Webhook logs",id:"webhook-logs",level:2}];function l(e){const o={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"working-with-webhooks-in-woocommerce",children:"Working with webhooks in WooCommerce"})}),"\n",(0,r.jsx)(o.h2,{id:"what-are-webhooks",children:"What are webhooks?"}),"\n",(0,r.jsxs)(o.p,{children:["A  ",(0,r.jsx)(o.a,{href:"http://en.wikipedia.org/wiki/Webhook",children:"Webhook"}),"  is an event notification sent to a URL of your choice. Users can configure them to trigger events on one site to invoke behavior on another."]}),"\n",(0,r.jsx)(o.p,{children:"Webhooks are useful for integrating with third-party services and other external API that support them."}),"\n",(0,r.jsx)(o.h2,{id:"webhooks-in-woocommerce",children:"Webhooks in WooCommerce"}),"\n",(0,r.jsx)(o.p,{children:"Webhooks were introduced in WooCommerce 2.2 and can trigger events each time you add, edit or delete orders, products, coupons or customers."}),"\n",(0,r.jsxs)(o.p,{children:["It's also possible to use webhooks with WooCommerce actions, e.g., Create a webhook to be used every time a product is added to the shopping cart, using the action  ",(0,r.jsx)(o.code,{children:"woocommerce_add_to_cart"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"Webhooks also make it easier for third-party apps to integrate with WooCommerce."}),"\n",(0,r.jsx)(o.h2,{id:"creating-webhooks",children:"Creating webhooks"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"https://woocommerce.com/wp-content/uploads/2013/01/woo-webhooks.png",alt:"WebHooks screen"})}),"\n",(0,r.jsx)(o.p,{children:"To create a new webhook:"}),"\n",(0,r.jsxs)(o.p,{children:["1/ ",(0,r.jsx)(o.strong,{children:"Go to"}),": ",(0,r.jsx)(o.strong,{children:"WooCommerce > Settings > Advanced > Webhooks"}),"."]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.strong,{children:"Note:"})," Webhooks were formerly found under WooCommerce > Settings > API prior to WooCommerce 3.4."]}),"\n"]}),"\n",(0,r.jsxs)(o.p,{children:["2/ Select  ",(0,r.jsx)(o.strong,{children:"Create a new webhook"}),"  (first incident) or  ",(0,r.jsx)(o.strong,{children:"Add webhook"}),". The ",(0,r.jsx)(o.strong,{children:"Webhook Data"}),"  box appears."]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"https://woocommerce.com/wp-content/uploads/2013/01/woo-webhooks.png",alt:"WebHooks creation"})}),"\n",(0,r.jsxs)(o.p,{children:["3/  ",(0,r.jsx)(o.strong,{children:"Enter"}),"."]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Name"}),": The  ",(0,r.jsx)(o.strong,{children:"name"}),'  is auto-generated as "Webhook created on [date and time of creation]" as a standard to facilitate creation. Change the name to something else.']}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Status"}),": Set to ",(0,r.jsx)(o.strong,{children:"Active"})," (delivers payload),  ",(0,r.jsx)(o.strong,{children:"Paused"})," (does not deliver), or ",(0,r.jsx)(o.strong,{children:"Disabled"})," (does not deliver due delivery failures)."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Topic"}),": Indicate when the webhook should be triggered -  ",(0,r.jsx)(o.strong,{children:"Order Created"}),",  ",(0,r.jsx)(o.strong,{children:"Product Deleted"}),", or ",(0,r.jsx)(o.strong,{children:"Customer Updated"}),". There are also  ",(0,r.jsx)(o.strong,{children:"Action"})," and  ",(0,r.jsx)(o.strong,{children:"Custom"})," options.","\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Action Event"}),": This option is available when the Topic is a WooCommerce ",(0,r.jsx)(o.strong,{children:"Action"}),", such as  ",(0,r.jsx)(o.code,{children:"woocommerce_add_to_cart"}),"  for when customers add products to the shopping cart."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Custom Topic"}),": This option is for  ",(0,r.jsx)(o.strong,{children:"advanced users only"}),". It's possible to introduce new, customized topics with the help of  ",(0,r.jsx)(o.code,{children:"woocommerce_webhook_topic_hooks"}),"  filter."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Delivery URL"}),": URL where the webhook payload is delivered."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Secret"}),": The Secret Key generates a hash of the delivered webhook and is provided in the request headers. This defaults to the current API user's consumer secret, if nothing is entered."]}),"\n"]}),"\n",(0,r.jsxs)(o.p,{children:["4/ ",(0,r.jsx)(o.strong,{children:"Save webhook"}),"."]}),"\n",(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.strong,{children:"Note"}),": The first time your webhook is saved with the Activated status, it sends a ping to the Delivery URL."]}),"\n"]}),"\n",(0,r.jsxs)(o.p,{children:["Webhooks are disabled after 5 retries by default if the delivery URL returns an unsuccessful status such as  ",(0,r.jsx)(o.code,{children:"404"}),"  or  ",(0,r.jsx)(o.code,{children:"5xx"}),". Successful responses are  ",(0,r.jsx)(o.code,{children:"2xx"}),",  ",(0,r.jsx)(o.code,{children:"301"}),"  or  ",(0,r.jsx)(o.code,{children:"302"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["To increase the number of retries, you can use the  ",(0,r.jsx)(o.code,{children:"woocommerce_max_webhook_delivery_failures"}),"  filter function."]}),"\n",(0,r.jsx)(o.h2,{id:"editing-and-deleting-webhooks",children:"Editing and deleting webhooks"}),"\n",(0,r.jsx)(o.p,{children:"Webhooks are listed the same way as posts or products."}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsx)(o.li,{children:"Find the webhook you wish to alter."}),"\n",(0,r.jsxs)(o.li,{children:["Hover over the name, and  ",(0,r.jsx)(o.strong,{children:"Edit"}),"  and  ",(0,r.jsx)(o.strong,{children:"Delete permanently"}),"  options appear."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.strong,{children:"Delete"}),", or make  ",(0,r.jsx)(o.strong,{children:"Edits"}),"  and  ",(0,r.jsx)(o.strong,{children:"Save changes"}),". Bulk deletion is also possible with the dropdown."]}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"https://woocommerce.com/wp-content/uploads/2013/01/editdelete-webhook.png",alt:"WebHooks deletion"})}),"\n",(0,r.jsx)(o.h2,{id:"webhook-logs",children:"Webhook logs"}),"\n",(0,r.jsxs)(o.p,{children:["WooCommerce saves logs of all events triggering a webhook. Webhook logs are found at:  ",(0,r.jsx)(o.strong,{children:"WooCommerce > Status > Logs"}),"."]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"https://woocommerce.com/wp-content/uploads/2022/11/Viewing-WooCommerce-Webhook-Logs.png?w=650",alt:"WebHooks logs"})}),"\n",(0,r.jsx)(o.p,{children:"Logs may be reviewed to see delivery and response from the server, making it simpler to integrate and debug."})]})}function a(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,o,s)=>{s.d(o,{R:()=>i,x:()=>c});var n=s(6540);const r={},t=n.createContext(r);function i(e){const o=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(t.Provider,{value:o},e.children)}}}]);