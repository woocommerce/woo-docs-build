"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[1075],{8453:(e,s,o)=>{o.d(s,{R:()=>r,x:()=>a});var n=o(6540);const t={},i=n.createContext(t);function r(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(i.Provider,{value:s},e.children)}},9337:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"extensions/getting-started-extensions/extension-development-best-practices","title":"WooCommerce extension development best practices","description":"Want to create a plugin to extend WooCommerce? You\'re in the right place.","source":"@site/../extensions/getting-started-extensions/extension-development-best-practices.md","sourceDirName":"extensions/getting-started-extensions","slug":"/extensions/getting-started-extensions/extension-development-best-practices","permalink":"/docs/extensions/getting-started-extensions/extension-development-best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../extensions/getting-started-extensions/extension-development-best-practices.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"post_title":"WooCommerce extension development best practices","sidebar_label":"Best practices","sidebar_position":3},"sidebar":"extensionsSidebar","previous":{"title":"Build your first extension","permalink":"/docs/extensions/getting-started-extensions/building-your-first-extension"},"next":{"title":"Core concepts","permalink":"/docs/category/core-concepts"}}');var t=o(4848),i=o(8453);const r={post_title:"WooCommerce extension development best practices",sidebar_label:"Best practices",sidebar_position:3},a="WooCommerce extension development best practices",l={},c=[{value:"Best Practices",id:"best-practices",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"woocommerce-extension-development-best-practices",children:"WooCommerce extension development best practices"})}),"\n",(0,t.jsx)(s.p,{children:"Want to create a plugin to extend WooCommerce? You're in the right place."}),"\n",(0,t.jsxs)(s.p,{children:["WooCommerce extensions are the same as regular WordPress plugins. For more information, visit ",(0,t.jsx)(s.a,{href:"https://developer.wordpress.org/plugins/",children:"Writing a plugin"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"Your WooCommerce extension should:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Adhere to all WordPress plugin coding standards, as well as ",(0,t.jsx)(s.a,{href:"https://developer.wordpress.org/plugins/plugin-basics/best-practices/",children:"best practice guidelines"})," for harmonious existence within WordPress and alongside other WordPress plugins."]}),"\n",(0,t.jsx)(s.li,{children:"Have a single core purpose and use WooCommerce features as much as possible."}),"\n",(0,t.jsx)(s.li,{children:"Not do anything malicious, illegal, or dishonest - for example, inserting spam links or executable code via third-party systems if not part of the service or  explicitly permitted in the service's terms of use."}),"\n",(0,t.jsx)(s.li,{children:"Not subvert or override Marketplace connections in core \u2014 for example, extensions cannot create branded top-level menu items or introduce their own telemetry."}),"\n",(0,t.jsxs)(s.li,{children:["Adhere to WooCommerce ",(0,t.jsx)(s.a,{href:"https://woocommerce.com/document/marketplace-overview/#section-9",children:"compatibility and interoperability guidelines"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Merchants make use of WooCommerce extensions daily, and should have a unified and pleasant experience while doing so without advertising invading their WP Admin or store."}),"\n",(0,t.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Check if WooCommerce is active"}),". Most WooCommerce plugins do not need to run unless WooCommerce is already active. ",(0,t.jsx)(s.a,{href:"/docs/extensions/core-concepts/check-if-woo-is-active",children:"Learn how to check if WooCommerce is active"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"The main plugin file should adopt the name of the plugin"}),". For example: A plugin with the directory name ",(0,t.jsx)(s.code,{children:"plugin-name"})," would have its main file named ",(0,t.jsx)(s.code,{children:"plugin-name.php"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"The text domain should match your plugin directory name"}),". For example: A plugin with a directory name of ",(0,t.jsx)(s.code,{children:"plugin-name"})," would have the text domain ",(0,t.jsx)(s.code,{children:"plugin-name"}),". Do not use underscores."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Internationalization"}),": Follow guidelines for ",(0,t.jsx)(s.a,{href:"https://codex.wordpress.org/I18n_for_WordPress_Developers",children:"Internationalization for WordPress Developers"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Localization"}),": All text strings within the plugin code should be in English. This is the WordPress default locale, and English should always be the first language. If your plugin is intended for a specific market (e.g., Spain or Italy), include appropriate translation files for those languages within your plugin package. Learn more at ",(0,t.jsx)(s.a,{href:"https://codex.wordpress.org/I18n_for_WordPress_Developers#Translating_Plugins_and_Themes",children:"Using Makepot to translate your plugin"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Follow WordPress PHP Guidelines"}),". WordPress has a ",(0,t.jsx)(s.a,{href:"http://make.wordpress.org/core/handbook/coding-standards/php/",children:"set of guidelines"})," to keep all WordPress code consistent and easy to read. This includes quotes, indentation, brace style, shorthand php tags, yoda conditions, naming conventions, and more. Please review the guidelines."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Avoid creating custom database tables"}),". Whenever possible, use WordPress ",(0,t.jsx)(s.a,{href:"http://codex.wordpress.org/Post_Types#Custom_Post_Types",children:"post types"}),", ",(0,t.jsx)(s.a,{href:"http://codex.wordpress.org/Taxonomies",children:"taxonomies"}),", and ",(0,t.jsx)(s.a,{href:"http://codex.wordpress.org/Creating_Options_Pages",children:"options"}),". For more, check out our ",(0,t.jsx)(s.a,{href:"/docs/best-practices/data-management/data-storage",children:"primer on data storage"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Prevent Data Leaks"})," by ensuring you aren't providing direct access to PHP files. ",(0,t.jsx)(s.a,{href:"/docs/best-practices/security/prevent-data-leaks",children:"Find out how"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsxs)(s.strong,{children:["All plugins need a ",(0,t.jsx)(s.a,{href:"http://wordpress.org/plugins/about/readme.txt",children:"standard WordPress README"})]}),". See an example in the ",(0,t.jsx)(s.a,{href:"https://wordpress.org/plugins/readme.txt",children:"WordPress plugin README file standard"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"All plugins need a changelog file."})," See an example of a changelog file and different changelog entry types in the ",(0,t.jsx)(s.a,{href:"/docs/extensions/core-concepts/changelog-txt",children:"changelog.txt documentation"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Follow our conventions for your Plugin header comment"}),". View our ",(0,t.jsx)(s.a,{href:"/docs/extensions/core-concepts/example-header-plugin-comment",children:"example WordPress plugin header comment"})," and follow the conventions listed, including: ",(0,t.jsx)(s.code,{children:"Author:"}),",  ",(0,t.jsx)(s.code,{children:"Author URI:"})," , ",(0,t.jsx)(s.code,{children:"Developer:"}),", ",(0,t.jsx)(s.code,{children:"Developer URI"}),", ",(0,t.jsx)(s.code,{children:"WC requires at least:"}),"and ",(0,t.jsx)(s.code,{children:"WC tested up to:"}),", and ",(0,t.jsx)(s.code,{children:"Plugin URI:"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Make it extensible"}),": use WordPress actions and filters to allow for modification/customization, and if your plugin creates a front-end output, we recommend having a templating engine in place so users can create custom template files in their theme's WooCommerce folder to overwrite the plugin's template files.For more information, check out Pippin's post on ",(0,t.jsx)(s.a,{href:"http://code.tutsplus.com/tutorials/writing-extensible-plugins-with-actions-and-filters--wp-26759",children:"Writing Extensible Plugins with Actions and Filters"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Avoid external libraries"}),". The use of entire external libraries is typically not suggested as this can open up the product to security vulnerabilities. If an external library is absolutely necessary, developers should be thoughtful about the code used and assume ownership as well as of responsibility for it. Try to  only include the strictly necessary part of the library, or use a WordPress-friendly version or opt to build your own version. For example, if needing to use a text editor such as TinyMCE, we recommend using the WordPress-friendly version, TinyMCE Advanced."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Avoid third-party systems"}),": Loading code from documented services is allowed, but communication must be secure. Executing outside code within a plugin is not allowed. Using third-party CDNs for non-service-related JavaScript and CSS is prohibited. Iframes should not be used to connect admin pages."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Remove unused code"}),". With version control, there's no reason to leave commented-out code; it's annoying to scroll through and read. Remove it and add it back later if needed."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use Comments"})," to describe the functions of your code. If you have a function, what does the function do? There should be comments for most if not all functions in your code. Someone/You may want to modify the plugin, and comments are helpful for that. We recommend using ",(0,t.jsx)(s.a,{href:"http://en.wikipedia.org/wiki/PHPDoc",children:"PHP Doc Blocks"})," similar to ",(0,t.jsx)(s.a,{href:"https://github.com/woocommerce/woocommerce/",children:"WooCommerce"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Avoid God Objects"}),". ",(0,t.jsx)(s.a,{href:"http://en.wikipedia.org/wiki/God_object",children:"God Objects"})," are objects that know or do too much. The point of object-oriented programming is to take a large problem and break it into smaller parts. When functions do too much, it's hard to follow their logic, making bugs harder to fix. Instead of having massive functions, break them down into smaller pieces."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Separate Business Logic & Presentation Logic."})," It's a good practice to separate business logic (i.e., how the plugin works) from ",(0,t.jsx)(s.a,{href:"http://en.wikipedia.org/wiki/Presentation_logic",children:"presentation logic"})," (i.e., how it looks). Two separate pieces of logic are more easily maintained and swapped if necessary. An example is to have two different classes - one for displaying the end results, and one for the admin settings page."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use Transients to Store Offsite Information"}),". If you provide a service via an API, it's best to store that information so future queries can be done faster and the load on your service is lessened. ",(0,t.jsx)(s.a,{href:"http://codex.wordpress.org/Transients_API",children:"WordPress transients"})," can be used to store data for a certain amount of time."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Log data that can be useful for debugging purposes"}),", with two conditions: Allow any logging as an 'opt in', and  Use the ",(0,t.jsx)(s.a,{href:"https://woocommerce.com/wc-apidocs/class-WC_Logger.html",children:"WC_Logger"})," class. A user can then view logs on their system status page. Learn ",(0,t.jsx)(s.a,{href:"/docs/code-snippets/link-to-logged-data",children:"how to add a link to logged data"})," in your extension."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsxs)(s.strong,{children:["Test Your Code with ",(0,t.jsx)(s.a,{href:"http://codex.wordpress.org/Debugging_in_WordPress",children:"WP_DEBUG"})]})," mode on, so you can see all PHP warnings sent to the screen. This will flag things like making sure a variable is set before checking the value."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsxs)(s.strong,{children:["Integrate the ",(0,t.jsx)(s.a,{href:"https://qit.woo.com/docs/",children:"Quality Insights Toolkit (QIT)"})," into your development workflow"]}),": The QIT allows the ability to test your extensions against new releases of PHP, WooCommerce, and WordPress, as well as other active extensions, at the same time. Additionally, the toolkit includes a ",(0,t.jsx)(s.a,{href:"https://qit.woo.com/docs/installation-setup/cli-installation",children:"command-line interface (CLI) tool"})," that allows you to run and view tests against development builds. This helps to catch errors before releasing a new version."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);