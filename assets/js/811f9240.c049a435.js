"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[4490],{2248:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"code-snippets/link-to-logged-data","title":"Add link to logged data","description":"Logging is a crucial part of any WooCommerce extension. It helps you track errors and debug issues. A common pattern is to have a setting in your extension to enable logging when the user needs to troubleshoot an issue. The following code snippet shows an example of how to add this setting, as well as a link to the log viewer, in the context of the Settings API.","source":"@site/../code-snippets/link-to-logged-data.md","sourceDirName":"code-snippets","slug":"/code-snippets/link-to-logged-data","permalink":"/docs/code-snippets/link-to-logged-data","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../code-snippets/link-to-logged-data.md","tags":[],"version":"current","frontMatter":{"post_title":"Add link to logged data","sidebar_label":"Add link to logged data"},"sidebar":"docsSidebar","previous":{"title":"Advanced settings and customization for legacy Local Pickup","permalink":"/docs/code-snippets/legacy_local_pickup_advacned_settings_and_customization"},"next":{"title":"Translation upgrade safety","permalink":"/docs/code-snippets/making_translations_upgrade_safe"}}');var s=t(4848),i=t(8453);const a={post_title:"Add link to logged data",sidebar_label:"Add link to logged data"},d="Add link to logged data",r={},l=[];function g(e){const o={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"add-link-to-logged-data",children:"Add link to logged data"})}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.a,{href:"/docs/best-practices/data-management/logging",children:"Logging"})," is a crucial part of any WooCommerce extension. It helps you track errors and debug issues. A common pattern is to have a setting in your extension to enable logging when the user needs to troubleshoot an issue. The following code snippet shows an example of how to add this setting, as well as a link to the log viewer, in the context of the ",(0,s.jsx)(o.a,{href:"/docs/extensions/settings-and-config/settings-api",children:"Settings API"}),"."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"use Automattic\\WooCommerce\\Utilities\\LoggingUtil;\n\n// Define the label and description for the logging option\n$label = \\_\\_( 'Enable logging', 'your-textdomain-here' );\n$description = \\_\\_( 'Log events and errors to help with troubleshooting.', 'your-textdomain-here' );\n\n// Check if WooCommerce's logging feature is enabled.\nif ( LoggingUtil::logging_is_enabled() ) {\n    // The source value you use for your extension's log entries. Could be the same as your text domain.\n    $source = 'yourpluginslug';\n    \n    $logs_url = add_query_arg(\n        'source',\n        $source,\n        LoggingUtil::get_logs_tab_url()\n    );\n    \n    $label .= ' | ' . sprintf(\n        \\_\\_( '<a href=\"%s\">View logs</a>', 'your-textdomain-here' ),\n        $logs_url\n    );\n}\n\n// Add the logging option to the form fields.\n$form_fields\\['yourpluginslug_debug'\\] = array(\n  'title'       => \\_\\_( 'Debugging', 'your-textdomain-here' ),\n  'label'       => $label,\n  'description' => $description,\n  'type'        => 'checkbox',\n  'default'     => 'no'\n);\n"})})]})}function c(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>a,x:()=>d});var n=t(6540);const s={},i=n.createContext(s);function a(e){const o=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:o},e.children)}}}]);