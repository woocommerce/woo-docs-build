"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[3533],{723:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"theming/theme-development/classic-theme-developer-handbook","title":"Classic theme development handbook","description":"---","source":"@site/../theming/theme-development/classic-theme-developer-handbook.md","sourceDirName":"theming/theme-development","slug":"/theming/theme-development/classic-theme-developer-handbook","permalink":"/docs/theming/theme-development/classic-theme-developer-handbook","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../theming/theme-development/classic-theme-developer-handbook.md","tags":[],"version":"current","frontMatter":{"post_title":"Classic theme development handbook","sidebar_label":"Classic theme development"},"sidebar":"docsSidebar","previous":{"title":"CSS styling for themes","permalink":"/docs/theming/block-theme-development/css-styling"},"next":{"title":"Conditional tags","permalink":"/docs/theming/theme-development/conditional-tags"}}');var s=t(4848),r=t(8453);const i={post_title:"Classic theme development handbook",sidebar_label:"Classic theme development"},l="Classic theme development handbook",c={},a=[{value:"Theme Integration",id:"theme-integration",level:2},{value:"Using <code>woocommerce_content()</code>",id:"using-woocommerce_content",level:3},{value:"Using hooks",id:"using-hooks",level:3},{value:"Using template overrides",id:"using-template-overrides",level:3},{value:"Declaring WooCommerce Support",id:"declaring-woocommerce-support",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Usage with Settings",id:"usage-with-settings",level:3},{value:"Product gallery features (zoom, swipe, lightbox)",id:"product-gallery-features-zoom-swipe-lightbox",level:3},{value:"Template Structure",id:"template-structure",level:2},{value:"How to Edit Files",id:"how-to-edit-files",level:3},{value:"CSS Structure",id:"css-structure",level:2},{value:"Modifications",id:"modifications",level:3},{value:"Disabling WooCommerce styles",id:"disabling-woocommerce-styles",level:3}];function h(e){const o={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"classic-theme-development-handbook",children:"Classic theme development handbook"})}),"\n",(0,s.jsx)(o.hr,{}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"Note:"})," this document is geared toward the development of classic themes. Check this other document for ",(0,s.jsx)(o.a,{href:"/docs/theming/block-theme-development/theming-woo-blocks",children:"block theme development"}),"."]}),"\n",(0,s.jsx)(o.hr,{}),"\n",(0,s.jsx)(o.p,{children:"WooCommerce looks great with all WordPress themes as of version 3.3, even if they are not WooCommerce-specific themes and do not formally declare support. Templates render inside the content, and this keeps everything looking natural on your site."}),"\n",(0,s.jsx)(o.p,{children:"Non-WooCommerce themes, by default, also include:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"Zoom feature enabled - ability to zoom in/out on a product image"}),"\n",(0,s.jsx)(o.li,{children:"Lightbox feature enabled - product gallery images pop up to examine closer"}),"\n",(0,s.jsx)(o.li,{children:"Comments enabled, not Reviews - visitors/buyers can leave comments as opposed to product ratings or reviews"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"If you want more control over the layout of WooCommerce elements or full reviews support your theme will need to integrate with WooCommerce. There are a few different ways you can do this, and they are outlined below."}),"\n",(0,s.jsx)(o.h2,{id:"theme-integration",children:"Theme Integration"}),"\n",(0,s.jsxs)(o.p,{children:["There are three possible ways to integrate WooCommerce with a theme. If you are using WooCommerce 3.2 or below (",(0,s.jsx)(o.strong,{children:"strongly discouraged"}),") you will need to use one of these methods to ensure WooCommerce shop and product pages are rendered correctly in your theme. If you are using a version of WooCommerce 3.3 or above you only need to do a theme integration if the automatic one doesn't meet your needs."]}),"\n",(0,s.jsxs)(o.h3,{id:"using-woocommerce_content",children:["Using ",(0,s.jsx)(o.code,{children:"woocommerce_content()"})]}),"\n",(0,s.jsxs)(o.p,{children:["This solution allows you to create a new template page within your theme that is used for ",(0,s.jsx)(o.strong,{children:"all WooCommerce taxonomy and post type displays"}),". While an easy catch-all solution, it does have a drawback in that this template is used for ",(0,s.jsx)(o.strong,{children:"all WooCommerce taxonomies"})," (product categories, etc.) and ",(0,s.jsx)(o.strong,{children:"post types"})," (product archives, single product pages). Developers are encouraged to use the hooks instead (see below)."]}),"\n",(0,s.jsx)(o.p,{children:"To set up this template page:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Duplicate page.php:"})," Duplicate your theme's ",(0,s.jsx)(o.code,{children:"page.php"})," file, and name it ",(0,s.jsx)(o.code,{children:"woocommerce.php"}),". This path to the file should follow this pattern: ",(0,s.jsx)(o.code,{children:"wp-content/themes/YOURTHEME/woocommerce.php"}),"."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Edit your page (woocommerce.php)"}),": Open up your newly created ",(0,s.jsx)(o.code,{children:"woocommerce.php"})," in a text editor."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Replace the loop:"})," Next you need to find the loop (see ",(0,s.jsx)(o.a,{href:"https://codex.wordpress.org/The_Loop",children:"The_Loop"}),"). The loop usually starts with code like this:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"<?php if ( have_posts() ) :\n"})}),"\n",(0,s.jsx)(o.p,{children:"It usually ends with this:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"<?php endif; ?>\n"})}),"\n",(0,s.jsxs)(o.p,{children:["This varies between themes. Once you have found it, ",(0,s.jsx)(o.strong,{children:"delete it"}),". In its place, put:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"<?php woocommerce_content(); ?>\n"})}),"\n",(0,s.jsxs)(o.p,{children:["This will make it use ",(0,s.jsx)(o.strong,{children:"WooCommerce's loop instead"}),". Save the file. You're done."]}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"Note:"})," When creating ",(0,s.jsx)(o.code,{children:"woocommerce.php"})," in your theme's folder, you will not be able to override the ",(0,s.jsx)(o.code,{children:"woocommerce/archive-product.php"})," custom template as ",(0,s.jsx)(o.code,{children:"woocommerce.php"})," has priority over ",(0,s.jsx)(o.code,{children:"archive-product.php"}),". This is intended to prevent display issues."]}),"\n",(0,s.jsx)(o.h3,{id:"using-hooks",children:"Using hooks"}),"\n",(0,s.jsx)(o.p,{children:"The hook method is more involved, but it is also more flexible. This is similar to the method we use when creating themes. It's also the method we use to integrate nicely with WordPress default themes."}),"\n",(0,s.jsxs)(o.p,{children:["Insert a few lines in your theme's ",(0,s.jsx)(o.code,{children:"functions.php"})," file."]}),"\n",(0,s.jsx)(o.p,{children:"First unhook the WooCommerce wrappers:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"remove_action( 'woocommerce_before_main_content', 'woocommerce_output_content_wrapper', 10);\nremove_action( 'woocommerce_after_main_content', 'woocommerce_output_content_wrapper_end', 10);\n"})}),"\n",(0,s.jsx)(o.p,{children:"Then hook in your own functions to display the wrappers your theme requires:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"add_action('woocommerce_before_main_content', 'my_theme_wrapper_start', 10);\nadd_action('woocommerce_after_main_content', 'my_theme_wrapper_end', 10);\n\nfunction my_theme_wrapper_start() {\n    echo '<section id=\"main\">';\n}\n\nfunction my_theme_wrapper_end() {\n    echo '</section>';\n}\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Make sure that the markup matches that of your theme. If you're unsure of which classes or IDs to use, take a look at your theme's ",(0,s.jsx)(o.code,{children:"page.php"})," for guidance."]}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"Whenever possible use the hooks to add or remove content. This method is more robust than overriding the templates."})," If you have overridden a template, you have to update the template any time the file changes. If you are using the hooks, you will only have to update if the hooks change, which happens much less frequently."]}),"\n",(0,s.jsx)(o.h3,{id:"using-template-overrides",children:"Using template overrides"}),"\n",(0,s.jsxs)(o.p,{children:["For information about overriding the WooCommerce templates with your own custom templates read the ",(0,s.jsx)(o.strong,{children:"Template Structure"})," section below. This method requires more maintenance than the hook-based method, as templates will need to be kept up-to-date with the WooCommerce core templates."]}),"\n",(0,s.jsx)(o.h2,{id:"declaring-woocommerce-support",children:"Declaring WooCommerce Support"}),"\n",(0,s.jsxs)(o.p,{children:["If you are using custom WooCommerce template overrides in your theme you need to declare WooCommerce support using the ",(0,s.jsx)(o.code,{children:"add_theme_support"})," function. WooCommerce template overrides are only enabled on themes that declare WooCommerce support. If you do not declare WooCommerce support in your theme, WooCommerce will assume the theme is not designed for WooCommerce compatibility and will use shortcode-based unsupported theme rendering to display the shop."]}),"\n",(0,s.jsxs)(o.p,{children:["Declaring WooCommerce support is straightforward and involves adding one function in your theme's ",(0,s.jsx)(o.code,{children:"functions.php"})," file."]}),"\n",(0,s.jsx)(o.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"function mytheme_add_woocommerce_support() {\n    add_theme_support( 'woocommerce' );\n}\n\nadd_action( 'after_setup_theme', 'mytheme_add_woocommerce_support' );\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Make sure you are using the ",(0,s.jsx)(o.code,{children:"after_setup_theme"})," hook and not the ",(0,s.jsx)(o.code,{children:"init"})," hook. Read more about this in ",(0,s.jsxs)(o.a,{href:"https://developer.wordpress.org/reference/functions/add_theme_support/",children:["the documentation for ",(0,s.jsx)(o.code,{children:"add_theme_support"})]}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"usage-with-settings",children:"Usage with Settings"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"function mytheme_add_woocommerce_support() {\n    add_theme_support( 'woocommerce', array(\n        'thumbnail_image_width' => 150,\n        'single_image_width'    => 300,\n\n        'product_grid'          => array(\n            'default_rows'    => 3,\n            'min_rows'        => 2,\n            'max_rows'        => 8,\n            'default_columns' => 4,\n            'min_columns'     => 2,\n            'max_columns'     => 5,\n        ),\n    ) );\n}\n\nadd_action( 'after_setup_theme', 'mytheme_add_woocommerce_support' );\n"})}),"\n",(0,s.jsx)(o.p,{children:"These are optional theme settings that you can set when declaring WooCommerce support."}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.code,{children:"thumbnail_image_width"})," and ",(0,s.jsx)(o.code,{children:"single_image_width"})," will set the image sizes for the shop. If these are not declared when adding theme support, the user can set image sizes in the Customizer under the ",(0,s.jsx)(o.strong,{children:"WooCommerce > Product Images"})," section."]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"product_grid"})," settings let theme developers set default, minimum, and maximum column and row settings for the Shop. Users can set the rows and columns in the Customizer under the ",(0,s.jsx)(o.strong,{children:"WooCommerce > Product Catalog"})," section."]}),"\n",(0,s.jsx)(o.h3,{id:"product-gallery-features-zoom-swipe-lightbox",children:"Product gallery features (zoom, swipe, lightbox)"}),"\n",(0,s.jsxs)(o.p,{children:["The product gallery introduced in 3.0.0 (",(0,s.jsx)(o.a,{href:"https://developer.woocommerce.com/2016/10/19/new-product-gallery-merged-in-to-core-for-2-7/",children:"read here for more information"}),") uses Flexslider, Photoswipe, and the jQuery Zoom plugin to offer swiping, lightboxes, and other neat features."]}),"\n",(0,s.jsxs)(o.p,{children:["In versions ",(0,s.jsx)(o.code,{children:"3.0"}),", ",(0,s.jsx)(o.code,{children:"3.1"}),", and ",(0,s.jsx)(o.code,{children:"3.2"}),", the new gallery is off by default and needs to be enabled using a snippet (below) or by using a compatible theme. This is because it's common for themes to disable the WooCommerce gallery and replace it with their own scripts."]}),"\n",(0,s.jsxs)(o.p,{children:["In versions ",(0,s.jsx)(o.code,{children:"3.3+"}),", the gallery is off by default for WooCommerce compatible themes unless they declare support for it (below). 3rd party themes with no WooCommerce support will have the gallery enabled by default."]}),"\n",(0,s.jsx)(o.p,{children:"To enable the gallery in your theme, you can declare support like this:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"add_theme_support( 'wc-product-gallery-zoom' );\nadd_theme_support( 'wc-product-gallery-lightbox' );\nadd_theme_support( 'wc-product-gallery-slider' );\n"})}),"\n",(0,s.jsx)(o.p,{children:"You do not have to support all three parts of the gallery; you can pick and choose features. If a feature is not enabled, the scripts will not be loaded and the gallery code will not execute on product pages."}),"\n",(0,s.jsxs)(o.p,{children:["If gallery features are enabled (e.g., you have a theme that enabled them, or you are running a theme that is not compatible with WooCommerce), you can disable them with ",(0,s.jsx)(o.code,{children:"remove_theme_support"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"remove_theme_support( 'wc-product-gallery-zoom' );\nremove_theme_support( 'wc-product-gallery-lightbox' );\nremove_theme_support( 'wc-product-gallery-slider' );\n"})}),"\n",(0,s.jsx)(o.p,{children:"You can disable any parts; you do not need to disable all features."}),"\n",(0,s.jsx)(o.h2,{id:"template-structure",children:"Template Structure"}),"\n",(0,s.jsxs)(o.p,{children:["WooCommerce template files contain the ",(0,s.jsx)(o.strong,{children:"markup"})," and ",(0,s.jsx)(o.strong,{children:"template structure"})," for ",(0,s.jsx)(o.strong,{children:"the frontend and the HTML emails"})," of your store. If some structural change in HTML is necessary, you should override a template."]}),"\n",(0,s.jsxs)(o.p,{children:["When you open these files, you will notice they all contain ",(0,s.jsx)(o.strong,{children:"hooks"})," that allow you to add or move content without needing to edit the template files themselves. This method protects against upgrade issues, as the template files can be left completely untouched."]}),"\n",(0,s.jsxs)(o.p,{children:["Template files can be found within the ",(0,s.jsx)(o.code,{children:"**/woocommerce/templates/**"})," directory."]}),"\n",(0,s.jsx)(o.h3,{id:"how-to-edit-files",children:"How to Edit Files"}),"\n",(0,s.jsxs)(o.p,{children:["Edit files in an ",(0,s.jsx)(o.strong,{children:"upgrade-safe way"})," using ",(0,s.jsx)(o.em,{children:"overrides"}),". Copy them into a directory within your theme named ",(0,s.jsx)(o.code,{children:"/woocommerce"}),", keeping the same file structure but removing the ",(0,s.jsx)(o.code,{children:"/templates/"})," subdirectory."]}),"\n",(0,s.jsxs)(o.p,{children:["Example: To override the admin order notification, copy ",(0,s.jsx)(o.code,{children:"wp-content/plugins/woocommerce/templates/emails/admin-new-order.php"})," to ",(0,s.jsx)(o.code,{children:"wp-content/themes/yourtheme/woocommerce/emails/admin-new-order.php"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"The copied file will now override the WooCommerce default template file."}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"Warning:"})," Do not delete any WooCommerce hooks when overriding a template. This would prevent plugins hooking in to add content."]}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"Warning:"})," Do not edit these files within the core plugin itselfe as they are overwritten during the upgrade process and any customizations will be lost."]}),"\n",(0,s.jsx)(o.h2,{id:"css-structure",children:"CSS Structure"}),"\n",(0,s.jsxs)(o.p,{children:["Inside the ",(0,s.jsx)(o.code,{children:"assets/css/"})," directory, you will find the stylesheets responsible for the default WooCommerce layout styles."]}),"\n",(0,s.jsxs)(o.p,{children:["Files to look for are ",(0,s.jsx)(o.code,{children:"woocommerce.scss"})," and ",(0,s.jsx)(o.code,{children:"woocommerce.css"}),"."]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"woocommerce.css"})," is the minified stylesheet - it's the CSS without any of the spaces, indents, etc. This makes the file very fast to load. This file is referenced by the plugin and declares all WooCommerce styles."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"woocommerce.scss"})," is not directly used by the plugin, but by the team developing WooCommerce. We use ",(0,s.jsx)(o.a,{href:"http://sass-lang.com/",children:"SASS"})," in this file to generate the CSS in the first file."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"The CSS is written to make the default layout compatible with as many themes as possible by using percentage-based widths for all layout styles. It is, however, likely that you'll want to make your own adjustments."}),"\n",(0,s.jsx)(o.h3,{id:"modifications",children:"Modifications"}),"\n",(0,s.jsx)(o.p,{children:"To avoid upgrade issues, we advise not editing these files but rather using them as a point of reference."}),"\n",(0,s.jsx)(o.p,{children:"If you just want to make changes, we recommend adding some overriding styles to your theme stylesheet. For example, add the following to your theme stylesheet to make WooCommerce buttons black instead of the default color:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-css",children:"a.button, \nbutton.button, \ninput.button, \n#review_form #submit {\n    background:black; \n}\n"})}),"\n",(0,s.jsx)(o.p,{children:"WooCommerce also outputs the theme name (plus other useful information, such as which type of page is being viewed) as a class on the body tag, which can be useful for overriding styles."}),"\n",(0,s.jsx)(o.h3,{id:"disabling-woocommerce-styles",children:"Disabling WooCommerce styles"}),"\n",(0,s.jsxs)(o.p,{children:["If you plan to make major changes, or create a theme from scratch, then you may prefer your theme not reference the WooCommerce stylesheet at all. You can tell WooCommerce to not use the default ",(0,s.jsx)(o.code,{children:"woocommerce.css"})," by adding the following code to your theme's ",(0,s.jsx)(o.code,{children:"functions.php"})," file:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-php",children:"add_filter( 'woocommerce_enqueue_styles', '__return_false' );\n"})}),"\n",(0,s.jsx)(o.p,{children:"With this definition in place, your theme will no longer use the WooCommerce stylesheet and give you a blank canvas upon which you can build your own desired layout and styles."}),"\n",(0,s.jsxs)(o.p,{children:["Styling a WooCommerce theme from scratch for the first time is no easy task. There are many different pages and elements that need to be styled, and if you're new to WooCommerce, you are probably not familiar with many of them. A non-exhaustive list of WooCommerce elements to style can be found ",(0,s.jsx)(o.a,{href:"https://developer.files.wordpress.com/2017/12/woocommerce-theme-testing-checklist.pdf",children:"here"}),"."]})]})}function d(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>i,x:()=>l});var n=t(6540);const s={},r=n.createContext(s);function i(e){const o=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:o},e.children)}}}]);