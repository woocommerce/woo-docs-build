"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[7978],{3268:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"best-practices/urls-and-routing/customizing-endpoint-urls","title":"Customizing WooCommerce endpoint URLs","description":"Before you start, check out WooCommerce Endpoints.","source":"@site/../best-practices/urls-and-routing/customizing-endpoint-urls.md","sourceDirName":"best-practices/urls-and-routing","slug":"/best-practices/urls-and-routing/customizing-endpoint-urls","permalink":"/docs/best-practices/urls-and-routing/customizing-endpoint-urls","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../best-practices/urls-and-routing/customizing-endpoint-urls.md","tags":[],"version":"current","frontMatter":{"post_title":"Customizing WooCommerce endpoint URLs","sidebar_label":"Customizing endpoint URLs"},"sidebar":"docsSidebar","previous":{"title":"Logging","permalink":"/docs/best-practices/data-management/logging"},"next":{"title":"Using webhooks","permalink":"/docs/best-practices/urls-and-routing/webhooks"}}');var s=o(4848),i=o(8453);const r={post_title:"Customizing WooCommerce endpoint URLs",sidebar_label:"Customizing endpoint URLs"},c="Customizing WooCommerce endpoint URLs",d={},a=[{value:"Customizing endpoint URLs",id:"customizing-endpoint-urls",level:2},{value:"Using endpoints in menus",id:"using-endpoints-in-menus",level:2},{value:"Using endpoints in payment gateway plugins",id:"using-endpoints-in-payment-gateway-plugins",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Endpoints showing 404",id:"endpoints-showing-404",level:3},{value:"Endpoints are not working",id:"endpoints-are-not-working",level:3},{value:"Pages direct to wrong place",id:"pages-direct-to-wrong-place",level:3},{value:"How to remove &quot;Downloads&quot; from My Account",id:"how-to-remove-downloads-from-my-account",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"customizing-woocommerce-endpoint-urls",children:"Customizing WooCommerce endpoint URLs"})}),"\n",(0,s.jsxs)(n.p,{children:["Before you start, check out ",(0,s.jsx)(n.a,{href:"/docs/best-practices/urls-and-routing/woocommerce-endpoints",children:"WooCommerce Endpoints"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"customizing-endpoint-urls",children:"Customizing endpoint URLs"}),"\n",(0,s.jsxs)(n.p,{children:["The URL for each endpoint can be customized in ",(0,s.jsx)(n.strong,{children:"WooCommerce > Settings > Advanced"})," in the Page setup section."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://developer.woocommerce.com/wp-content/uploads/2023/12/endpoints.png",alt:"Endpoints"})}),"\n",(0,s.jsxs)(n.p,{children:["Ensure that they are unique to avoid conflicts. If you encounter issues with 404s, go to ",(0,s.jsx)(n.strong,{children:"Settings > Permalinks"})," and save to flush the rewrite rules."]}),"\n",(0,s.jsx)(n.h2,{id:"using-endpoints-in-menus",children:"Using endpoints in menus"}),"\n",(0,s.jsx)(n.p,{children:"If you want to include an endpoint in your menus, you need to use the Links section:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://developer.woocommerce.com/wp-content/uploads/2023/12/2014-02-26-at-14.26.png",alt:"The Links section of a menu item in WordPress"})}),"\n",(0,s.jsx)(n.p,{children:"Enter the full URL to the endpoint and then insert that into your menu."}),"\n",(0,s.jsx)(n.p,{children:"Remember that some endpoints, such as view-order, require an order ID to work. In general, we don't recommend adding these endpoints to your menus. These pages can instead be accessed via the my-account page."}),"\n",(0,s.jsx)(n.h2,{id:"using-endpoints-in-payment-gateway-plugins",children:"Using endpoints in payment gateway plugins"}),"\n",(0,s.jsx)(n.p,{children:"WooCommerce provides helper functions in the order class for getting these URLs. They are:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"$order->get_checkout_payment_url( $on_checkout = false );"})}),"\n",(0,s.jsx)(n.p,{children:"and:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"$order->get_checkout_order_received_url();"})}),"\n",(0,s.jsx)(n.p,{children:"Gateways need to use these methods for full 2.1+ compatibility."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"endpoints-showing-404",children:"Endpoints showing 404"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If you see a 404 error, go to ",(0,s.jsx)(n.strong,{children:"WordPress Admin"})," > ",(0,s.jsx)(n.strong,{children:"Settings > Permalinks"})," and Save. This ensures that rewrite rules for endpoints exist and are ready to be used."]}),"\n",(0,s.jsx)(n.li,{children:"If using an endpoint such as view-order, ensure that it specifies an order number. /view-order/ is invalid. /view-order/10/ is valid. These types of endpoints should not be in your navigation menus."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"endpoints-are-not-working",children:"Endpoints are not working"}),"\n",(0,s.jsxs)(n.p,{children:["On Windows servers, the ",(0,s.jsx)(n.strong,{children:"web.config"})," file may not be set correctly to allow for the endpoints to work correctly. In this case, clicking on endpoint links (e.g. /edit-account/ or /customer-logout/) may appear to do nothing except refresh the page. In order to resolve this, try simplifying the ",(0,s.jsx)(n.strong,{children:"web.config"})," file on your Windows server. Here's a sample file configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<<>?xml version="1.0" encoding="UTF-8"?>\n<configuration>\n  <system.webServer>\n    <handlers accessPolicy="Read, Execute, Script" />\n    <rewrite>\n    <rules>\n      <rule name="wordpress" patternSyntax="Wildcard">\n        <match url="*" />\n        <conditions>\n          <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />\n          <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />\n        </conditions>\n        <action type="Rewrite" url="index.php" />\n      </rule>\n    </rules>\n    </rewrite>\n  </system.webServer>\n</configuration>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"pages-direct-to-wrong-place",children:"Pages direct to wrong place"}),"\n",(0,s.jsx)(n.p,{children:"Landing on the wrong page when clicking an endpoint URL is typically caused by incorrect settings. For example, clicking 'Edit address' on your account page takes you to the Shop page instead of the edit address form means you selected the wrong page in settings. Confirm that your pages are correctly configured and that a different page is used for each section."}),"\n",(0,s.jsx)(n.h3,{id:"how-to-remove-downloads-from-my-account",children:'How to remove "Downloads" from My Account'}),"\n",(0,s.jsxs)(n.p,{children:['Sometimes the "Downloads" endpoint on the "My account" page does not need to be displayed. This can be removed by going to ',(0,s.jsx)(n.strong,{children:"WooCommerce > Settings > Advanced > Account endpoints"})," and clearing the Downloads endpoint field."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://developer.woocommerce.com/wp-content/uploads/2023/12/Screenshot-2023-04-09-at-11.45.58-PM.png",alt:"Account endpoints"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>c});var t=o(6540);const s={},i=t.createContext(s);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);