"use strict";(self.webpackChunkwoo_docs_migration=self.webpackChunkwoo_docs_migration||[]).push([[7035],{4427:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>h,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"theming/theme-development/image-sizes","title":"Image sizing for theme developers","description":"Note: this document was created for use when developing classic themes (as opposed to block themes). Check this other document for block theme development.","source":"@site/../theming/theme-development/image-sizes.md","sourceDirName":"theming/theme-development","slug":"/theming/theme-development/image-sizes","permalink":"/docs/theming/theme-development/image-sizes","draft":false,"unlisted":false,"editUrl":"https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../theming/theme-development/image-sizes.md","tags":[],"version":"current","frontMatter":{"post_title":"Image sizing for theme developers","sidebar_label":"Image sizing"},"sidebar":"docsSidebar","previous":{"title":"Fix outdated templates","permalink":"/docs/theming/theme-development/fixing-outdated-woocommerce-templates"},"next":{"title":"Set up and use a child theme","permalink":"/docs/theming/theme-development/set-up-a-child-theme"}}');var o=s(4848),n=s(8453);const r={post_title:"Image sizing for theme developers",sidebar_label:"Image sizing"},a="Image sizing for theme developers",h={},l=[{value:"Themes can define image sizes",id:"themes-can-define-image-sizes",level:2},{value:"Customize image sizes in the customizer",id:"customize-image-sizes-in-the-customizer",level:2},{value:"Changing image sizes via hooks",id:"changing-image-sizes-via-hooks",level:2},{value:"Changing what image sizes are used in WooCommerce via hooks",id:"changing-what-image-sizes-are-used-in-woocommerce-via-hooks",level:2}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"image-sizing-for-theme-developers",children:"Image sizing for theme developers"})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Note:"})," this document was created for use when developing classic themes (as opposed to block themes). Check this other document for ",(0,o.jsx)(i.a,{href:"/docs/theming/block-theme-development/theming-woo-blocks",children:"block theme development"}),"."]}),"\n",(0,o.jsx)(i.p,{children:"To display images in your catalog, WooCommerce registers a few image sizes which define the actual image dimensions to be used. These sizes include:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"woocommerce_thumbnail"})," - used in the product 'grids' in places such as the shop page."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"woocommerce_single"})," - used on single product pages."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"woocommerce_gallery_thumbnail"})," - used below the main image on the single product page to switch the gallery."]}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.code,{children:"woocommerce_single"})," shows the full product image, as uploaded, so is always uncropped by default. It defaults to 600px width. ",(0,o.jsx)(i.code,{children:"woocommerce_gallery_thumbnail"})," is always square cropped and defaults to 100x100 pixels. This is used for navigating images in the gallery. ",(0,o.jsx)(i.code,{children:"woocommerce_thumbnail"})," defaults to 300px width, square cropped so the product grids look neat. The aspect ratio for cropping can be customized by the store owner. It is important to note that despite the actual image widths that are set, themes can ultimately change the size images are displayed using CSS, and image widths may be limited by the product grid/column widths."]}),"\n",(0,o.jsx)(i.h2,{id:"themes-can-define-image-sizes",children:"Themes can define image sizes"}),"\n",(0,o.jsx)(i.p,{children:"Starting with WooCommerce 3.3.0, themes can declare what sizes should be used when declaring WooCommerce support. If a theme defines the image sizes (widths), the store owner will not be able to change them, but the size defined should be optimal for the theme."}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"add_theme_support( 'woocommerce', array(\n    'thumbnail_image_width' => 200,\n    'gallery_thumbnail_image_width' => 100,\n    'single_image_width' => 500,\n) );\n"})}),"\n",(0,o.jsxs)(i.p,{children:["When calling WordPress functions which expect an image size e.g. ",(0,o.jsx)(i.a,{href:"https://developer.wordpress.org/reference/functions/wp_get_attachment_image_src",children:(0,o.jsx)(i.code,{children:"wp_get_attachment_image_src"})}),", you should use the image size names - these are:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"woocommerce_thumbnail"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"woocommerce_single"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"woocommerce_gallery_thumbnail"})}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Store owners will still be able to control aspect ratio and cropping (see below)."}),"\n",(0,o.jsx)(i.h2,{id:"customize-image-sizes-in-the-customizer",children:"Customize image sizes in the customizer"}),"\n",(0,o.jsxs)(i.p,{children:["The customizer houses the options which control thumbnails in WooCommerce. ",(0,o.jsx)(i.img,{src:"https://woocommerce.wordpress.com/wp-content/uploads/2017/12/imagefeature.png?w=712",alt:"Settings in the customizer"})," If the theme is declaring image sizes, the top section will be hidden and only the cropping option will be visible. Changing the cropping option, or widths, will update the preview on the right side to show how things will look. Changes will not be visible to customers until the customizer is  'published' and ",(0,o.jsx)(i.a,{href:"/docs/theming/theme-development/thumbnail-image-regeneration",children:"the thumbnails have been regenerated to the new dimensions"}),". The thumbnail cropping section in the customizer allows store owners to select one of three cropping ratio settings for images in the catalog:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"1:1 (Square cropping)"}),"\n",(0,o.jsx)(i.li,{children:"Custom (Store owner can enter a custom aspect ratio)"}),"\n",(0,o.jsx)(i.li,{children:"Uncropped (Preserve single image aspect ratio)"}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"Actual image dimensions are then calculated based on the cropping option selected, and the image width."}),"\n",(0,o.jsx)(i.h2,{id:"changing-image-sizes-via-hooks",children:"Changing image sizes via hooks"}),"\n",(0,o.jsxs)(i.p,{children:["Whilst themes can fix image sizes at certain widths, and store owners can control widths and aspect ratios, if you need more control over thumbnail sizes there are some hooks available to you. The ",(0,o.jsx)(i.code,{children:"wc_get_image_size"})," function is used by WooCommerce to get the image size dimensions. The return value of this is passed through a filter: ",(0,o.jsx)(i.code,{children:"woocommerce_get_image_size_{SIZE_NAME_WITHOUT_WOOCOMMERCE_PREFIX}"})," If using this hook you'll be passed an array of sizes, similar to this:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"array(\n    'width' => 200,\n    'height' => 200,\n    'crop' => 1,\n)\n"})}),"\n",(0,o.jsx)(i.p,{children:"So for example, if I wanted to change gallery thumbnails to be 150x150px uncropped images, you could use the following code:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"add_filter( 'woocommerce_get_image_size_gallery_thumbnail', function( $size ) {\n    return array(\n        'width' => 150,\n        'height' => 150,\n        'crop' => 0,\n    );\n} );\n"})}),"\n",(0,o.jsxs)(i.p,{children:["We don't recommend plugins and themes go this route because it removes control from the store owner and their settings won't be respected, but the option is there for store owners. ",(0,o.jsx)(i.strong,{children:"Note:"})," after making changes to image sizes you may need to ",(0,o.jsx)(i.a,{href:"https://github.com/woocommerce/woocommerce/wiki/Thumbnail-Image-Regeneration-in-3.3",children:"regenerate your thumbnails"})," so the new sizes are used for existing images."]}),"\n",(0,o.jsx)(i.h2,{id:"changing-what-image-sizes-are-used-in-woocommerce-via-hooks",children:"Changing what image sizes are used in WooCommerce via hooks"}),"\n",(0,o.jsx)(i.p,{children:"As well as the above hook, some template functions in WooCommerce run the image size through a filter so you can use something other than the WooCommerce registered image sizes. The following filters exist:"}),"\n",(0,o.jsxs)(i.table,{children:[(0,o.jsx)(i.thead,{children:(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.th,{children:"Filter"}),(0,o.jsx)(i.th,{children:"Description"}),(0,o.jsx)(i.th,{children:"Default"})]})}),(0,o.jsxs)(i.tbody,{children:[(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"single_product_archive_thumbnail_size"})}),(0,o.jsx)(i.td,{children:"Controls the size used in the product grid/catalog."}),(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_thumbnail"})})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"subcategory_archive_thumbnail_size"})}),(0,o.jsx)(i.td,{children:"Controls the size used in the product grid/catalog for category images."}),(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_thumbnail"})})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_gallery_thumbnail_size"})}),(0,o.jsx)(i.td,{children:"Controls the size used in the product gallery, below to main image, to switch to a different image."}),(0,o.jsxs)(i.td,{children:["Array representing the dimensions of the ",(0,o.jsx)(i.code,{children:"gallery_thumbnail"})," image size. Usually ",(0,o.jsx)(i.code,{children:"array( 100, 100 )"}),"."]})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_gallery_image_size"})}),(0,o.jsx)(i.td,{children:"Controls the size used in the product gallery."}),(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_single"})})]}),(0,o.jsxs)(i.tr,{children:[(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"woocommerce_gallery_full_size"})}),(0,o.jsx)(i.td,{children:"Controls the size used in the product gallery to zoom or view the full size image."}),(0,o.jsx)(i.td,{children:(0,o.jsx)(i.code,{children:"full"})})]})]})]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Note:"})," ",(0,o.jsx)(i.code,{children:"full"})," is a size registered by WordPress and set in ",(0,o.jsx)(i.code,{children:"Settings > Media."})," As an example, let's say I wanted to make the gallery thumbnail size used the ",(0,o.jsx)(i.code,{children:"thumbnail"})," size registered by WordPress instead of ",(0,o.jsx)(i.code,{children:"woocommerce_gallery_thumbnail"}),". The following snippet would do the job:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-php",children:"add_filter( 'woocommerce_gallery_thumbnail_size', function( $size ) {\n    return 'thumbnail';\n} );\n"})}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Note:"})," The hooks listed above are used by WooCommerce core. If a theme has custom template files or uses it's own functions to output images, these filters may not be in use."]})]})}function d(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>r,x:()=>a});var t=s(6540);const o={},n=t.createContext(o);function r(e){const i=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(n.Provider,{value:i},e.children)}}}]);