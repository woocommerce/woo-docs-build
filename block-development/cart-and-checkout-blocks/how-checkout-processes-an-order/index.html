<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-block-development/cart-and-checkout-blocks/how-checkout-processes-an-order" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">How the checkout block processes an order | WooCommerce developer docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developer.woocommerce.com/docs/img/woo-dev-site-logo.svg"><meta data-rh="true" name="twitter:image" content="https://developer.woocommerce.com/docs/img/woo-dev-site-logo.svg"><meta data-rh="true" property="og:url" content="https://developer.woocommerce.com/docs/block-development/cart-and-checkout-blocks/how-checkout-processes-an-order"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How the checkout block processes an order | WooCommerce developer docs"><meta data-rh="true" name="description" content="This document will shed some light on the inner workings of the Checkout flow. More specifically, what happens after a user hits the &quot;Place Order&quot; button."><meta data-rh="true" property="og:description" content="This document will shed some light on the inner workings of the Checkout flow. More specifically, what happens after a user hits the &quot;Place Order&quot; button."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://developer.woocommerce.com/docs/block-development/cart-and-checkout-blocks/how-checkout-processes-an-order"><link data-rh="true" rel="alternate" href="https://developer.woocommerce.com/docs/block-development/cart-and-checkout-blocks/how-checkout-processes-an-order" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.woocommerce.com/docs/block-development/cart-and-checkout-blocks/how-checkout-processes-an-order" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.25570730.css">
<script src="/docs/assets/js/runtime~main.0758caf8.js" defer="defer"></script>
<script src="/docs/assets/js/main.c4376d82.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/docs/img/woo-dev-site-logo.svg"><link rel="preload" as="image" href="/docs/img/woo-dev-site-logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/woo-dev-site-logo.svg" alt="WooCommerce developer docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/img/woo-dev-site-logo-dark.svg" alt="WooCommerce developer docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/category/getting-started">Extensions</a><a class="navbar__item navbar__link" href="/docs/apis/rest-api/">API</a><a class="navbar__item navbar__link" href="/docs/wc-cli/cli-overview">CLI</a></div><div class="navbar__items navbar__items--right"><a href="https://developer.woocommerce.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/woocommerce/woocommerce/tree/trunk/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/">Getting started</a><button aria-label="Collapse sidebar category &#x27;Getting started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/development-environment">Developer environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/developer-tools">Developer tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started/tools-for-low-code-development">Low-code tools</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/features/payments/payment-gateway-api">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/theming/block-theme-development/theming-woo-blocks">Theming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/category/cart-and-checkout-blocks">Block development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/cart-and-checkout-blocks">Cart and Checkout blocks</a><button aria-label="Collapse sidebar category &#x27;Cart and Checkout blocks&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/">Available filters</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/additional-cart-checkout-inner-block-types">Inner block types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/cart-line-items">Cart Line Items</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/checkout-and-place-order-button">Checkout and place order button</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/coupons">Coupons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/order-summary-items">Order summary items</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-filters/totals-footer-item">Totals footer item</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/category/checkout-payment-methods">Checkout payment methods</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/checkout-payment-methods/checkout-flow-and-events">Checkout flow and events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/checkout-payment-methods/filtering-payment-methods">Filtering payment methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/checkout-payment-methods/payment-method-integration">Payment method integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs/category/hooks">Hooks</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/hooks/hook-alternatives">Hook alternatives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/hooks/migrated-hooks">Legacy hooks</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/additional-checkout-fields">Additional checkout fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/available-slot-fills">Available slots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/dom-events">DOM Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/extensibility-getting-started">Cart and Checkout extensibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/faq">Frequently asked questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/how-checkout-processes-an-order">Processing an order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/integration-interface">Script, styles, and data handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/overview-of-data-flow">Data flow overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/removing-checkout-fields">Removing checkout fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/cart-and-checkout-blocks/slot-fills">Slot and fill</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/block-references">Blocks reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/block-development/extensibility-in-blocks/">Extensibility in blocks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/block-development/product-collection-block/">Product Collection block</a><button aria-label="Expand sidebar category &#x27;Product Collection block&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/block-development/product-editor-development/">Product Editor</a><button aria-label="Expand sidebar category &#x27;Product Editor&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/best-practices/performance/configuring-caching-plugins">Best practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/user-experience-guidelines/ux-guidelines-payments/">UX guidelines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/code-snippets/">Code snippets</a><button aria-label="Expand sidebar category &#x27;Code snippets&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/contribution/contributing/">Contribution</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Block development</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/cart-and-checkout-blocks"><span itemprop="name">Cart and Checkout blocks</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Processing an order</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How the checkout block processes an order</h1></header>
<p>This document will shed some light on the inner workings of the Checkout flow. More specifically, what happens after a user hits the &quot;Place Order&quot; button.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure">Structure<a href="#structure" class="hash-link" aria-label="Direct link to Structure" title="Direct link to Structure">​</a></h2>
<p>The following areas are associated with processing the checkout for a user.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-payment-registry-file">The Payment Registry <a href="https://href.li/?https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/blocks-registry/payment-methods/registry.ts#L1" target="_blank" rel="noopener noreferrer">(file)</a><a href="#the-payment-registry-file" class="hash-link" aria-label="Direct link to the-payment-registry-file" title="Direct link to the-payment-registry-file">​</a></h3>
<p>The payment registry stores all the configuration information for each payment method. We can register a new payment method here with the <code>registerPaymentMethod</code> and <code>registerExpressPaymentMethod </code>functions, also available to other plugins.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-stores">Data Stores<a href="#data-stores" class="hash-link" aria-label="Direct link to Data Stores" title="Direct link to Data Stores">​</a></h3>
<p>Data stores are used to keep track of data that is likely to change during a user&#x27;s session, such as the active payment method, whether the checkout has an error, etc. We split these data stores by areas of concern, so we have 2 data stores related to the checkout: <code>wc/store/checkout</code> <a href="https://href.li/?https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/index.ts#L1" target="_blank" rel="noopener noreferrer">(file)</a> and <code>wc/store/payment</code> <a href="https://href.li/?https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/payment-methods/index.ts#L1" target="_blank" rel="noopener noreferrer">(file)</a> . Data stores live in the <code>assets/js/data</code> folder.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contexts">Contexts<a href="#contexts" class="hash-link" aria-label="Direct link to Contexts" title="Direct link to Contexts">​</a></h3>
<p>Contexts are used to make data available to the Checkout block. Each of these provide data and functions related to a specific area of concern, via the use of a hook. For example, if we wanted to use the <code>onPaymentSetup</code> handler from the <code>PaymentEventsContext</code> context, we can do it like this:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> onPaymentSetup </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">usePaymentEventsContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The other job of contexts is to run side effects for our Checkout block. What typically happens is that the <code>CheckoutEvents</code> and <code>PaymentEvents</code> will listen for changes in the checkout and payment data stores, and dispatch actions on those stores based on some logic.</p>
<p>For example, in the <code>CheckoutEvents</code> context, we dispatch the <code>emitValidateEvent</code> action when the checkout status is <code>before_processing</code>. There is a lot of similar logic that reacts to changes in status and other state data from these two stores.</p>
<p>The Checkout contexts are:</p>
<table><thead><tr><th>Context</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/checkout-events/index.tsx#L4" target="_blank" rel="noopener noreferrer">CheckoutEvents</a></td><td>Provides some checkout related event handlers</td></tr><tr><td><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/payment-methods/payment-method-events-context.tsx#L3" target="_blank" rel="noopener noreferrer"> PaymentEvents </a></td><td>Provides event handlers related to payments</td></tr><tr><td><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/customer/index.tsx#L1" target="_blank" rel="noopener noreferrer"> CustomerData </a></td><td>Provides data related to the current customer</td></tr><tr><td><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/shipping/index.js#L1" target="_blank" rel="noopener noreferrer"> ShippingData </a></td><td>Provides data and actions related to shipping errors</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-checkout-processor-checkout-processorjs">The Checkout Processor (checkout-processor.js)<a href="#the-checkout-processor-checkout-processorjs" class="hash-link" aria-label="Direct link to The Checkout Processor (checkout-processor.js)" title="Direct link to The Checkout Processor (checkout-processor.js)">​</a></h3>
<p>The checkout processor component subscribes to changes in the checkout or payment data stores, packages up some of this data and calls the StoreApi <code>/checkout</code> endpoint when the conditions are right.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-checkout-provider">The Checkout Provider<a href="#the-checkout-provider" class="hash-link" aria-label="Direct link to The Checkout Provider" title="Direct link to The Checkout Provider">​</a></h2>
<p>The <a href="https://github.com/woocommerce/woocommerce-blocks/blob/trunk/assets/js/base/context/providers/cart-checkout/checkout-provider.js" target="_blank" rel="noopener noreferrer">checkout provider</a>, wraps all the contexts mentioned above around the <code>CheckoutProcessor</code> component.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checkout-user-flow">Checkout User Flow<a href="#checkout-user-flow" class="hash-link" aria-label="Direct link to Checkout User Flow" title="Direct link to Checkout User Flow">​</a></h2>
<p>Below is the complete checkout flow</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-click-the-place-order-button">1. Click the &quot;Place Order&quot; button<a href="#1-click-the-place-order-button" class="hash-link" aria-label="Direct link to 1. Click the &quot;Place Order&quot; button" title="Direct link to 1. Click the &quot;Place Order&quot; button">​</a></h3>
<p>The checkout process starts when a user clicks the button</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-checkout-status-is-set-to-before_processing-file">2. Checkout status is set to <code>before_processing</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/checkout-events/index.tsx#L167" target="_blank" rel="noopener noreferrer">(file)</a><a href="#2-checkout-status-is-set-to-before_processing-file" class="hash-link" aria-label="Direct link to 2-checkout-status-is-set-to-before_processing-file" title="Direct link to 2-checkout-status-is-set-to-before_processing-file">​</a></h3>
<p>As soon as the user clicks the &quot;Place Order&quot; button, we change the checkout status to <em>&quot;before_processing&quot;</em>. This is where we handle the validation of the checkout information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-emit-the-checkout_validation_before_processing-event-file">3. Emit the <code>checkout_validation_before_processing</code> event <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/checkout-events/index.tsx#L113" target="_blank" rel="noopener noreferrer">(file)</a><a href="#3-emit-the-checkout_validation_before_processing-event-file" class="hash-link" aria-label="Direct link to 3-emit-the-checkout_validation_before_processing-event-file" title="Direct link to 3-emit-the-checkout_validation_before_processing-event-file">​</a></h3>
<p>This is where the WooCommerce Blocks plugin and other plugins can register event listeners for dealing with validation. The event listeners for this event will run and if there are errors, we set checkout status to <code>idle</code> and display the errors to the user.</p>
<p>If there are no errors, we move to step 4 below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-checkout-status-is-set-to-processing-file">4. Checkout status is set to <code>processing</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/thunks.ts#L76" target="_blank" rel="noopener noreferrer">(file)</a><a href="#4-checkout-status-is-set-to-processing-file" class="hash-link" aria-label="Direct link to 4-checkout-status-is-set-to-processing-file" title="Direct link to 4-checkout-status-is-set-to-processing-file">​</a></h3>
<p>The processing status is used by step 5 below to change the payment status</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-payment-status-is-set-to-processing-file">5. Payment status is set to <code>processing</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/payment-methods/payment-method-events-context.tsx#L94" target="_blank" rel="noopener noreferrer">(file)</a><a href="#5-payment-status-is-set-to-processing-file" class="hash-link" aria-label="Direct link to 5-payment-status-is-set-to-processing-file" title="Direct link to 5-payment-status-is-set-to-processing-file">​</a></h3>
<p>Once all the checkout processing is done and if there are no errors, the payment processing begins</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-emit-the-payment_processing-event-file">6. Emit the <code>payment_processing</code> event <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/payment-methods/thunks.ts#L42" target="_blank" rel="noopener noreferrer">(file)</a><a href="#6-emit-the-payment_processing-event-file" class="hash-link" aria-label="Direct link to 6-emit-the-payment_processing-event-file" title="Direct link to 6-emit-the-payment_processing-event-file">​</a></h3>
<p>The <code>payment_processing</code> event is emitted. Otherplugins can register event listeners for this event and run their own code.</p>
<p>For example, the Stripe plugin checks the address and payment details here, and uses the stripe APIs to create a customer and payment reference within Stripe.</p>
<p><strong>Important note: The actual payment is not taken here</strong>. <strong>It acts like a pre-payment hook to run any payment plugin code before the actual payment is attempted.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-execute-the-payment_processing-event-listeners-and-set-the-payment-and-checkout-states-accordingly-file">7. Execute the <code>payment_processing</code> event listeners and set the payment and checkout states accordingly <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/payment-methods/thunks.ts#L54-L132" target="_blank" rel="noopener noreferrer">(file)</a><a href="#7-execute-the-payment_processing-event-listeners-and-set-the-payment-and-checkout-states-accordingly-file" class="hash-link" aria-label="Direct link to 7-execute-the-payment_processing-event-listeners-and-set-the-payment-and-checkout-states-accordingly-file" title="Direct link to 7-execute-the-payment_processing-event-listeners-and-set-the-payment-and-checkout-states-accordingly-file">​</a></h3>
<p>If the registered event listeners return errors, we will display this to the user.</p>
<p>If the event listeners are considered successful, we sync up the address of the checkout with the payment address, store the <code>paymentMethodData</code> in the payment store, and set the payment status property <code>{ isProcessing: true }</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-post-to-wcstorev1checkout-file">8. POST to <code>/wc/store/v1/checkout</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/checkout-processor.js#L234" target="_blank" rel="noopener noreferrer">(file)</a><a href="#8-post-to-wcstorev1checkout-file" class="hash-link" aria-label="Direct link to 8-post-to-wcstorev1checkout-file" title="Direct link to 8-post-to-wcstorev1checkout-file">​</a></h3>
<p>The <code>/checkout</code> StoreApi endpoint is called if there are no payment errors. This will take the final customer addresses and chosen payment method, and any additional payment data, then attempts payment and returns the result.</p>
<p><strong>Important: payment is attempted through the StoreApi, NOT through the <code>payment_processing</code> event that is sent from the client</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9-the-processcheckoutresponse-action-is-triggered-on-the-checkout-store-file">9. The <code>processCheckoutResponse</code> action is triggered on the checkout store <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/thunks.ts#L33" target="_blank" rel="noopener noreferrer">(file)</a><a href="#9-the-processcheckoutresponse-action-is-triggered-on-the-checkout-store-file" class="hash-link" aria-label="Direct link to 9-the-processcheckoutresponse-action-is-triggered-on-the-checkout-store-file" title="Direct link to 9-the-processcheckoutresponse-action-is-triggered-on-the-checkout-store-file">​</a></h3>
<p>Once the fetch to the StoreApi <code>/checkout</code> endpoint returns a response, we pass this to the <code>processCheckoutResponse</code> action on the <code>checkout</code> data store.</p>
<p>It will perform the following actions:</p>
<ul>
<li>It sets the redirect url to redirect to once the order is complete</li>
<li>It stores the payment result in the <code>checkout</code> data store.</li>
<li>It changes the checkout status to <code>after_processing</code> (step 10)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="10-checkout-status-is-set-to-after_processing-file">10. Checkout status is set to <code>after_processing</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/thunks.ts#L42" target="_blank" rel="noopener noreferrer">(file)</a><a href="#10-checkout-status-is-set-to-after_processing-file" class="hash-link" aria-label="Direct link to 10-checkout-status-is-set-to-after_processing-file" title="Direct link to 10-checkout-status-is-set-to-after_processing-file">​</a></h3>
<p>The <code>after_processing</code> status indicates that we&#x27;ve finished the main checkout processing step. In this step, we run cleanup actions and display any errors that have been triggered during the last step.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-emit-the-checkout_after_processing_with_success-event-file">11. Emit the <code>checkout_after_processing_with_success</code> event <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/thunks.ts#L118-L128" target="_blank" rel="noopener noreferrer">(file)</a><a href="#11-emit-the-checkout_after_processing_with_success-event-file" class="hash-link" aria-label="Direct link to 11-emit-the-checkout_after_processing_with_success-event-file" title="Direct link to 11-emit-the-checkout_after_processing_with_success-event-file">​</a></h3>
<p>If there are no errors, the <code>checkout_after_processing_with_success</code> event is triggered. This is where other plugins can run some code after the checkout process has been successful.</p>
<p>Any event listeners registered on the <code>checkout_after_processing_with_success</code> event will be executed. If there are no errors from the event listeners, <code>setComplete</code> action is called on the <code>checkout</code> data store to set the status to <code>complete</code> (step 13). An event listener can also return an error here, which will be displayed to the user.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-emit-the-checkout_after_processing_with_error-event-file">12. Emit the <code>checkout_after_processing_with_error</code> event <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/thunks.ts#L104-L116" target="_blank" rel="noopener noreferrer">(file)</a><a href="#12-emit-the-checkout_after_processing_with_error-event-file" class="hash-link" aria-label="Direct link to 12-emit-the-checkout_after_processing_with_error-event-file" title="Direct link to 12-emit-the-checkout_after_processing_with_error-event-file">​</a></h3>
<p>If there has been an error from step 5, the <code>checkout_after_processing_with_error</code> event will be emitted. Other plugins can register event listeners to run here to display an error to the user. The event listeners are processed and display any errors to the user.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-set-checkout-status-to-complete-file">13. Set checkout status to <code>complete</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/utils.ts#L146" target="_blank" rel="noopener noreferrer">(file)</a><a href="#13-set-checkout-status-to-complete-file" class="hash-link" aria-label="Direct link to 13-set-checkout-status-to-complete-file" title="Direct link to 13-set-checkout-status-to-complete-file">​</a></h3>
<p>If there are no errors, the <code>status</code> property changes to <code>complete</code> in the checkout data store. This indicates that the checkout process is complete.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-redirect-file">14. Redirect <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/base/context/providers/cart-checkout/checkout-processor.js#L193-L197" target="_blank" rel="noopener noreferrer">(file)</a><a href="#14-redirect-file" class="hash-link" aria-label="Direct link to 14-redirect-file" title="Direct link to 14-redirect-file">​</a></h3>
<p>Once the checkout status is set to <code>complete</code>, if there is a <code>redirectUrl</code> in the checkout data store, then we redirect the user to the URL.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-notable-things">Other notable things<a href="#other-notable-things" class="hash-link" aria-label="Direct link to Other notable things" title="Direct link to Other notable things">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-payment-methods">Checking payment methods<a href="#checking-payment-methods" class="hash-link" aria-label="Direct link to Checking payment methods" title="Direct link to Checking payment methods">​</a></h3>
<p>A payment method is registered with a <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/types/type-defs/payments.ts#L60-L83" target="_blank" rel="noopener noreferrer">configuration object</a>. It must include a function named <code>canMakePayment</code>. This function should return true if the payment method can be used to pay for the current cart. The current cart (items, addresses, shipping methods etc.) is passed to this function, and each payment method is responsible for reporting whether it can be used.</p>
<p>The <code>checkPaymentMethodsCanPay()</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/payment-methods/check-payment-methods.ts#L26" target="_blank" rel="noopener noreferrer">function</a> goes through all the registered payment methods, checks if they can pay, and if so, adds them to the <code>availablePaymentMethods</code> property on the payment data store.</p>
<p>The <code>checkPaymentMethodsCanPay()</code> <a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/payment-methods/check-payment-methods.ts#L26" target="_blank" rel="noopener noreferrer">function</a> must be called in a few places in order to validate the payment methods before they can be displayed to the user as viable options.</p>
<ul>
<li><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/cart/index.ts#L46-L57" target="_blank" rel="noopener noreferrer">Here</a>, once the cart loads, we want to be able to display express payment methods, so we need to validate them first.</li>
<li><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/cart/index.ts#L42-L43" target="_blank" rel="noopener noreferrer">Here</a>, once the cart changes, we may want to enable/disable certain payment methods</li>
<li><a href="https://github.com/woocommerce/woocommerce-blocks/blob/4af2c0916a936369be8a4f0044683b90b3af4f0d/assets/js/data/checkout/index.ts#L44-L49" target="_blank" rel="noopener noreferrer">Here</a>, once the checkout loads, we want to verify all registered payment methods</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/woocommerce/woocommerce/tree/docusaurus-docs-prep/docs/docs/../block-development/cart-and-checkout-blocks/how-checkout-processes-an-order.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/block-development/cart-and-checkout-blocks/faq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frequently asked questions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/block-development/cart-and-checkout-blocks/integration-interface"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Script, styles, and data handling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#structure" class="table-of-contents__link toc-highlight">Structure</a><ul><li><a href="#the-payment-registry-file" class="table-of-contents__link toc-highlight">The Payment Registry (file)</a></li><li><a href="#data-stores" class="table-of-contents__link toc-highlight">Data Stores</a></li><li><a href="#contexts" class="table-of-contents__link toc-highlight">Contexts</a></li><li><a href="#the-checkout-processor-checkout-processorjs" class="table-of-contents__link toc-highlight">The Checkout Processor (checkout-processor.js)</a></li></ul></li><li><a href="#the-checkout-provider" class="table-of-contents__link toc-highlight">The Checkout Provider</a></li><li><a href="#checkout-user-flow" class="table-of-contents__link toc-highlight">Checkout User Flow</a><ul><li><a href="#1-click-the-place-order-button" class="table-of-contents__link toc-highlight">1. Click the &quot;Place Order&quot; button</a></li><li><a href="#2-checkout-status-is-set-to-before_processing-file" class="table-of-contents__link toc-highlight">2. Checkout status is set to <code>before_processing</code> (file)</a></li><li><a href="#3-emit-the-checkout_validation_before_processing-event-file" class="table-of-contents__link toc-highlight">3. Emit the <code>checkout_validation_before_processing</code> event (file)</a></li><li><a href="#4-checkout-status-is-set-to-processing-file" class="table-of-contents__link toc-highlight">4. Checkout status is set to <code>processing</code> (file)</a></li><li><a href="#5-payment-status-is-set-to-processing-file" class="table-of-contents__link toc-highlight">5. Payment status is set to <code>processing</code> (file)</a></li><li><a href="#6-emit-the-payment_processing-event-file" class="table-of-contents__link toc-highlight">6. Emit the <code>payment_processing</code> event (file)</a></li><li><a href="#7-execute-the-payment_processing-event-listeners-and-set-the-payment-and-checkout-states-accordingly-file" class="table-of-contents__link toc-highlight">7. Execute the <code>payment_processing</code> event listeners and set the payment and checkout states accordingly (file)</a></li><li><a href="#8-post-to-wcstorev1checkout-file" class="table-of-contents__link toc-highlight">8. POST to <code>/wc/store/v1/checkout</code> (file)</a></li><li><a href="#9-the-processcheckoutresponse-action-is-triggered-on-the-checkout-store-file" class="table-of-contents__link toc-highlight">9. The <code>processCheckoutResponse</code> action is triggered on the checkout store (file)</a></li><li><a href="#10-checkout-status-is-set-to-after_processing-file" class="table-of-contents__link toc-highlight">10. Checkout status is set to <code>after_processing</code> (file)</a></li><li><a href="#11-emit-the-checkout_after_processing_with_success-event-file" class="table-of-contents__link toc-highlight">11. Emit the <code>checkout_after_processing_with_success</code> event (file)</a></li><li><a href="#12-emit-the-checkout_after_processing_with_error-event-file" class="table-of-contents__link toc-highlight">12. Emit the <code>checkout_after_processing_with_error</code> event (file)</a></li><li><a href="#13-set-checkout-status-to-complete-file" class="table-of-contents__link toc-highlight">13. Set checkout status to <code>complete</code> (file)</a></li><li><a href="#14-redirect-file" class="table-of-contents__link toc-highlight">14. Redirect (file)</a></li></ul></li><li><a href="#other-notable-things" class="table-of-contents__link toc-highlight">Other notable things</a><ul><li><a href="#checking-payment-methods" class="table-of-contents__link toc-highlight">Checking payment methods</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">COMMUNITY</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/woocommerce/woocommerce/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://woocommerce.com/community-slack/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wordpress.org/support/plugin/woocommerce/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://developer.woocommerce.com/code-of-conduct/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code of Conduct<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://developer.woocommerce.com/community-participation-guide/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Participation Guide<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GROW WITH WOO</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://woocommerce.com/for-agencies/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Become a Woo agency partner<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://woocommerce.com/partners/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Become a Marketplace partner<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contribution/contributing">Contribute to WooCommerce</a></li></ul></div><div class="col footer__col"><div class="footer__title">MORE</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.woocommerce.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Woo Developer Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/woocommerce/woocommerce/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WooCommerce Monorepo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://woocommerce.github.io/woocommerce/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Woo Storybook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://woocommerce.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Merchant Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://woocommerce.com/woocommerce-marketplace/" target="_blank" rel="noopener noreferrer" class="footer__link-item">WooCommerce Marketplace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/woocommerce/woocommerce/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Built with Docusaurus. Documentation is licensed under <a href="https://github.com/woocommerce/woocommerce/blob/trunk/plugins/woocommerce/license.txt/">GPLv3</a> and can be modified in the <a href="https://github.com/woocommerce/woocommerce/">WooCommerce Monorepo</a>.
				<div class="docusaurus-footer-for-automattic">
					<a href="https://automattic.com/">
						An
						<img src="/img/automattic.svg" alt="Automattic" class="automattic-logo automattic-logo-light">
						<img src="/img/automattic_dark.svg" alt="Automattic" class="automattic-logo automattic-logo-dark"> 
						Creation</a>
				</div></div></div></div></footer><div class="cookie-banner"><div class="cookie-banner-content"><h3>Use of your personal data</h3><p>We and our partners process your personal data (such as browsing data, IP Addresses, cookie information, and other unique identifiers) based on your consent and/or our legitimate interest to optimize our website, marketing activities, and your user experience.</p><div class="cookie-actions"><button class="cookie-accept-all">Accept All</button><button class="cookie-details-button">Customize Preferences</button></div></div></div></div>
</body>
</html>